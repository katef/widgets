<html>
<head>
<style>

	body {
		background-color: gray;
	}


	ul.gallery li > a:active {
		color: inherit;
	}

	ul.gallery li {
		list-style-type: none;
		display: block;
		float: left;
		padding: 1ex;
		background-color: gray;
	}

	ul.gallery img {
		max-height: 180px;
		border: solid 5px white;
	}

	ul.gallery li div {
		display: none;
	}

	ul.gallery li.click {
		position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;

		padding: 0;
		padding-top: 4em;
		padding-left: 10%;
		padding-right: 10%;
	}

	ul.gallery li.click img {
		cursor: none;

		border-width: 10px;

		max-height: 80%;
		max-width: 100%;

		/* TODO: center <img> without destroying max-width */
	}

	ul.gallery li.click div {
		display: block;

		border: 10px solid transparent;	/* alignment with the image border */

		margin-left: auto;
		margin-right: auto;
	}

</style>
<script>

	function f(a) {
		li = a.parentNode;

		if (li.getAttribute('class') == 'click') {
			li.removeAttribute('class');
			document.location.hash = null;
		} else {
			li.setAttribute('class', 'click');
			document.location.hash = a.id;
		}

		a.blur();

		return false;
	}

	function g() {
		hash = unescape(self.document.location.hash.substring(1));
		if (!hash) {
			return;
		}

		a = document.getElementById(hash);
		if (!a) {
			return;
		}

		f(a);
	}

</script>
</head>

<body onload="g()">
	<ul class="gallery">
		<li>
			<a onclick="return f(this)" href="p1120060.jpg" id="p1120060.jpg" name="p1120060.jpg">
				<center><img src="p1120060.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120060.jpg">Link</a>
				<a href="p1120060.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>

		<li>
			<a onclick="return f(this)" href="p1120061.jpg" id="p1120061.jpg" name="p1120061.jpg">
				<center><img src="p1120061.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120061.jpg">Link</a>
				<a href="p1120061.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>

		<li>
			<a onclick="return f(this)" href="p1120053.jpg" id="p1120053.jpg" name="p1120053.jpg">
				<center><img src="p1120053.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120053.jpg">Link</a>
				<a href="p1120053.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>

		<li>
			<a onclick="return f(this)" href="p1120062.jpg" id="p1120062.jpg" name="p1120062.jpg">
				<center><img src="p1120062.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120062.jpg">Link</a>
				<a href="p1120062.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>

		<li>
			<a onclick="return f(this)" href="p1120063.jpg" id="p1120063.jpg" name="p1120062.jpg">
				<center><img src="p1120063.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120063.jpg">Link</a>
				<a href="p1120063.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>

		<li>
			<a onclick="return f(this)" href="p1120064.jpg" id="p1120064.jpg" name="p1120064.jpg">
				<center><img src="p1120064.jpg"/></center>
			</a>
			<div class="navigation">
				<a href="#p1120064.jpg">Link</a>
				<a href="p1120064.jpg">Raw</a>
			</div>
			<div class="caption">
				<p>Caption abc</p>
				<p>More caption <a href="...">and a link</a>.</p>
			</div>
		</li>
	</ul>
</body>
</html>

