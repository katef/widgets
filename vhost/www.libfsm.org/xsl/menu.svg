<?xml version="1.0"?>

<?xml-stylesheet type="text/css"
	href="file:///Users/kate/svn/lx-combined/www/build/htdocs/www.libfsm.org/css/dot.css" ?>
<?xml-stylesheet type="text/css"
	href="file:///Users/kate/svn/lx-combined/www/build/htdocs/www.libfsm.org/css/menu.css" ?>

<svg xmlns="http://www.w3.org/2000/svg"
	xmlns:gv="http://xml.libfsm.org/gv"
	xmlns:xlink="http://www.w3.org/1999/xlink">

	<defs>
		<symbol id="dot-node" preserveAspectRatio="xMidYMid meet" viewBox="-20 -20 40 40">
			<circle r="11" style="stroke: red; stroke-width: 2px; fill-opacity: 0.3;"/>
		</symbol>

		<symbol id="dot-end" preserveAspectRatio="xMidYMid meet" viewBox="-20 -20 40 40">
			<circle r="11" class="inner" style="stroke: blue; stroke-width: 2px; fill-opacity: 0.3;"/>
			<circle r="15"               style="stroke: blue; stroke-width: 2px; fill-opacity: 0.3;"/>
		</symbol>

<!-- TODO: relative coordinates everywhere... -->
<!--

		<marker id="arrow"
			viewBox="-5 -5 10 20" refX="32" refY="5"
			markerUnits="strokeWidth"
			markerWidth="6" markerHeight="6"
			orient="auto">
			<polyline points="
				0,0
				10,5
				0,10"
				style="fill: aliceblue ! important; stroke: hotpink ! important; stroke-width: 2px;"/>
		</marker>
-->
	</defs>

<!-- XXX: why markers here? can't i put them in <head>? -->
<!--
	<svg id="learn" viewBox="0 -80 470 190">

<marker id="arrow"
	viewBox="0 0 10 10" refX="18" refY="5"
	markerUnits="strokeWidth"
	markerWidth="6" markerHeight="6"
	orient="auto">
		<polyline points="
			0,0
			10,5
			0,10
			0,0"
			style="fill: pink ! important; stroke: hotpink ! important; stroke-width: 2px;"/>
</marker>


		<a gv:node="start">
			<g gv:edge="start-0" gv:reachable="0 1 2 3 4 5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="22" y1="-4"
					x2="70" y2="-4"/>
			</g>
		</a>

		<a gv:node="0" xlink:href="http://www.libfsm.org/about" gv:match="/about">
			<use x="71" y="-4" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="0-1" gv:reachable="1 2 3 4 5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="71" y1="-4"
					x2="175" y2="-4"/>
				<text text-anchor="middle" x="120" y="-21.4">About</text>
			</g>
		</a>

		<a gv:node="1">
			<use x="175" y="-4" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="1-2" gv:reachable="1 2 3 4 5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="186" y1="-4"
					x2="247" y2="-4"/>
			</g>
		</a>

		<a gv:node="2" xlink:href="http://docs.libfsm.org/" gv:match="(docs|man)\.libfsm\.org">
			<use x="249" y="-4" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="2-4" gv:reachable="1 2 3 4 5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 249,-4
					C 265.485,6.4532 277.492,9.7806 309,10"/>
			</g>

			<g gv:edge="2-3" gv:reachable="3 5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 249,-4
					C 263.67,-13.987 270.92,-17.987 278,-20
					  303.783,-27.332 334.68,-25.394 381,-18"/>
				<text text-anchor="middle" x="310" y="-37.4">Documentation</text>
			</g>
		</a>

		<a gv:node="3" gv:end="end">
			<use x="381" y="-18" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-end"/>

			<g gv:edge="3-5" gv:reachable="5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="381" y1="-18"
					x2="463" y2="-18"/>
			</g>
		</a>

		<a gv:node="4" xlink:href="http://blog.libfsm.org/" gv:match="blog\.libfsm\.org">
			<use x="309" y="10" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="4-1" gv:reachable="1 2 3 4">
				<path marker-end="url(#arrow)" d="
					M 299.411,16.259
					C 285.823,24.3448 260.149,36.7394 238,31
					  221.206,26.6482 204.122,16.743 175,-4"/>
			</g>

			<g gv:edge="4-3" gv:reachable="3 5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="309" y1="10"
					x2="381" y2="-18"/>
				<text text-anchor="middle" x="350" y="25">Blog</text>
			</g>
		</a>

		<g transform="translate(250 60)" class="help wide">
			<path d="
				M -170,-10
				q 0,10 10,10
				l 150,0
				q 10,0 10,10 0,-10 10,-10
				l 150,0
				q 10,0 10,-10"
				style="stroke: red ! important"/>

			<text text-anchor="middle" y="30">Learn about it</text>
		</g>
	</svg>

	<svg id="use" class="dot" viewBox="440 -80 420 190">
		<a gv:node="5" xlink:href="http://www.libfsm.org/download" gv:match="/download">
			<use x="485" y="-18" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="5-5">
				<path marker-end="url(#arrow)" d="
					M 485,-18
					C 475,-28 465,-48 485,-48
					  505,-48 485,-28 485,-18"/>
				<text text-anchor="middle" x="490" y="-55">Download</text>
			</g>

			<g gv:edge="5-8" gv:reachable="5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="485" y1="-18"
					x2="545" y2="-50"/>
			</g>
		</a>

		<a gv:node="6" xlink:href="http://www.libfsm.org/timeline" gv:match="/timeline">
			<use x="673" y="-39" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="6-6">
				<text text-anchor="middle" x="670" y="-60.4">Timeline</text>
			</g>

			<g gv:edge="6-9" gv:reachable="5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 673,-39
					C 689.968,-32.935 698.507,-31.286 706,-33
					  709.433,-33.785 712.933,-35.032 735,-47"/>
			</g>
		</a>

		<a gv:node="7" xlink:href="http://code.libfsm.org/" gv:match="code\.libfsm\.org">
			<use x="613" y="-39" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="7-5" gv:reachable="5 7 8">
				<path marker-end="url(#arrow)" d="
					M 613,-39
					C 592.251,-27.572 573.471,-18.528 556,-15
					  539.587,-11.686 520.622,-12.729 485,-18"/>
			</g>

			<g gv:edge="7-8" gv:reachable="6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 613,-39
					C 598.378,-49.164 591.128,-53.164 584,-55
					  578.133,-56.511 571.647,-56.373 545,-50"/>
				<text text-anchor="middle" x="550" y="6.6">Browser</text>
			</g>

			<g gv:edge="7-6" gv:reachable="5 6 7 8 9 fsm re lx">
				<line marker-end="url(#arrow)"
					x1="613" y1="-39"
					x2="673" y2="-39"/>
			</g>
		</a>

		<a gv:node="8">
			<use x="545" y="-50" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="8-7" gv:reachable="5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 545,-50
					C 560.001,-40.987 567.133,-37.571 574,-36
					  579.875,-34.656 586.364,-34.605 613,-39"/>
			</g>
		</a>

		<a gv:node="9" gv:match="tickets\.libfsm\.org"
			transform="translate(735 -47)" xlink:href="http://tickets.libfsm.org/">
			<use width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-node"/>

			<g gv:edge="9-7" gv:reachable="5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 0,0
					C 0,0 -32.29,36.165 -51,43
					  -71.07,50.3319 -92.952,35.847 -122,8"/>
				<text text-anchor="middle" x="760" y="-20">Tickets</text>
			</g>

			<g gv:edge="9-6" gv:reachable="5 6 7 8 9 fsm re lx">
				<path marker-end="url(#arrow)" d="
					M 0,0
					C 17.496,-1.85 -25.746,-2.1 -33,-1
					  -35.981,-0.548 -39.077,0.151 -62,8"/>
			</g>

			<g gv:edge="9-fsm" gv:reachable="fsm re lx">
				<line marker-end="url(#arrow)"
					x2="104"/>
			</g>
		</a>

		<a gv:node="fsm" xlink:href="http://www.libfsm.org/libfsm" gv:match="/libfsm">
			<use x="839" y="-47" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-end"/>

			<g gv:edge="fsm-re" gv:reachable="re">
				<line marker-end="url(#arrow)"
					x1="839" y1="-47"
					x2="839" y2="21"/>
			</g>

			<g gv:edge="fsm-lx" gv:reachable="lx">
				<path marker-end="url(#arrow)" d="
					M 825.85,-39.181
					C 812.697,-30.511 793.269,-15.184 785,4
					  779.722,16.2443 779.722,21.7557 785,34
					  791.654,49.4371 805.534,62.3769 839,85" class="wide"/>

				<g gv:edge="9-fsm" gv:reachable="fsm re lx">
					<line marker-end="url(#arrow)"
						x1="839" y1="-47"
						x2="770" y2="19" class="narrow"/>
				</g>
			</g>
		</a>

		<a gv:node="re" xlink:href="http://www.libfsm.org/libre" gv:match="/libre">
			<use x="839" y="19" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-end"/>
		</a>

		<a gv:node="lx" xlink:href="http://www.libfsm.org/lx" gv:match="/lx">
			<use x="839" y="85" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-end" class="wide"/>

			<use x="770" y="19" width="40" height="40"
				transform="translate(-20 -20)" xlink:href="#dot-end" class="narrow"/>
		</a>

		<g transform="translate(600 60)" class="help wide">
			<path d="
				M -120,-10
				q 0,10 10,10
				l 100,0
				q 10,0 10,10 0,-10 10,-10
				l 100,0
				q 10,0 10,-10"
				style="stroke: red ! important"/>

			<text text-anchor="middle" y="30">Use it</text>
		</g>
	</svg>

	<svg id="braces">
		<g transform="translate(0 50)" class="help narrow">
			<path d="
				M 0,-35
				q 10,0 10,10
				l 0,15
				q 0,10 10,10 -10,0 -10,10
				l 0,15
				q 0,10 -10,10"
				style="stroke: red ! important"/>

			<text text-anchor="start" alignment-baseline="middle" x="30">Learn about it</text>
		</g>

		<g transform="translate(0 150)" class="help narrow">
			<path d="
				M 0,-35
				q 10,0 10,10
				l 0,15
				q 0,10 10,10 -10,0 -10,10
				l 0,15
				q 0,10 -10,10"
				style="stroke: red ! important"/>

			<text text-anchor="start" alignment-baseline="middle" x="30">Use it</text>
		</g>
	</svg>
-->

	<!-- TODO: lots of root-level <svg> elements here, each with a specific width class & viewbox -->





	<svg class="use2 w300" viewBox="0 0 300 180" width="300px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use2 w325" viewBox="0 0 325 180" width="325px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use2 w350" viewBox="0 0 350 180" width="350px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use2 w375" viewBox="0 0 375 180" width="375px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use2 w400" viewBox="0 0 400 180" width="400px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>





	<svg class="learn2 w300" viewBox="0 0 300 180" width="300px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn2 w325" viewBox="0 0 325 180" width="325px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn2 w350" viewBox="0 0 350 180" width="350px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn2 w375" viewBox="0 0 375 180" width="375px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn2 w400" viewBox="0 0 400 180" width="400px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>





<!-- Technically some of these could overlap with use2/learn2, but I'm keeping them seperate for
simplicity for now. Also they have different heights for their viewboxes -->

	<svg class="use3 w300" viewBox="0 0 300 100" width="300px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use3 w325" viewBox="0 0 325 100" width="325px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use3 w350" viewBox="0 0 350 100" width="350px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use3 w375" viewBox="0 0 375 100" width="375px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="use3 w400" viewBox="0 0 400 100" width="400px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>

	<svg class="use3 w425" viewBox="0 0 425 100" width="425px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>

	<svg class="use3 w450" viewBox="0 0 450 100" width="450px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>




	<svg class="learn3 w300" viewBox="0 0 300 100" width="300px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn3 w325" viewBox="0 0 325 100" width="325px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn3 w350" viewBox="0 0 350 100" width="350px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn3 w375" viewBox="0 0 375 100" width="375px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #cfc; display: block;"/>
	</svg>

	<svg class="learn3 w400" viewBox="0 0 400 100" width="400px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>

	<svg class="learn3 w425" viewBox="0 0 425 100" width="425px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>

	<svg class="learn3 w450" viewBox="0 0 450 100" width="450px">
		<rect x="0" y="0" width="100%" height="100%" style="fill: #fcc; display: block;"/>
	</svg>

<!-- TODO:
things to redo: the above are in increments of 25px; the css tends to be in increments of 30px.
do it again, with more maths
find a way to make it scale with zooming. specify widths in css?
-->



<!--
	<svg class="w150" viewBox="0 0 150 300" width="150px"><use xlink:href="#fsm"/></svg>
	<svg class="w150" viewBox="0 0 150 300" width="150px"><use xlink:href="#fsm"/></svg>
	<svg class="w150" viewBox="0 0 150 300" width="150px"><use xlink:href="#fsm"/></svg>
	<svg class="w150" viewBox="0 0 150 300" width="150px"><use xlink:href="#fsm"/></svg>

<svg id="a" viewBox="0 0 150 300" width="150px"><use xlink:href="#fsm"/></svg>
<svg id="b" viewBox="0 0 250 300" width="250px"><use xlink:href="#fsm"/></svg>
<svg id="c" viewBox="0 0 350 300" width="350px"><use xlink:href="#fsm"/></svg>
<svg id="d" viewBox="0 0 450 300" width="450px"><use xlink:href="#fsm"/></svg>
<svg id="e" viewBox="0 0 550 300" width="550px"><use xlink:href="#fsm"/></svg>
<svg id="f" viewBox="0 0 650 300" width="650px"><use xlink:href="#fsm"/></svg>
<svg id="g" viewBox="0 0 750 300" width="750px"><use xlink:href="#fsm"/></svg>
<svg id="h" viewBox="0 0 850 300" width="850px"><use xlink:href="#fsm"/></svg>
<svg id="i" viewBox="0 0 950 300" width="950px"><use xlink:href="#fsm"/></svg>
-->

</svg>

